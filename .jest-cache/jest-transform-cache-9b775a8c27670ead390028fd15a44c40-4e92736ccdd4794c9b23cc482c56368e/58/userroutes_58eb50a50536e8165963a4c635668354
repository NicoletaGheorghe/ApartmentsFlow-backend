85733ba7cfd7ea1d0949a28249833151
const express = require('express');
const router = express.Router();
const {
  protect
} = require('../middleware/auth.middleware');
const {
  getProfile,
  updateProfile,
  deleteProfile,
  updatePreferences,
  getSavedSearches,
  saveSearch,
  deleteSavedSearch,
  getFavoriteApartments,
  getApartmentNotes,
  addApartmentNote,
  updateApartmentNote,
  deleteApartmentNote
} = require('../controllers/user.controller');

// Profile routes
router.get('/profile', protect, getProfile);
router.put('/profile', protect, updateProfile);
router.delete('/profile', protect, deleteProfile);

// Preferences routes
router.get('/preferences', protect, updatePreferences);
router.put('/preferences', protect, updatePreferences);

// Saved searches routes
router.get('/searches', protect, getSavedSearches);
router.post('/searches', protect, saveSearch);
router.delete('/searches/:id', protect, deleteSavedSearch);

// Favorites and notes routes
router.get('/favorites', protect, getFavoriteApartments);
router.get('/apartments/:id/notes', protect, getApartmentNotes);
router.post('/apartments/:id/notes', protect, addApartmentNote);
router.put('/apartments/:id/notes/:noteId', protect, updateApartmentNote);
router.delete('/apartments/:id/notes/:noteId', protect, deleteApartmentNote);
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInByb3RlY3QiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsImRlbGV0ZVByb2ZpbGUiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsImdldFNhdmVkU2VhcmNoZXMiLCJzYXZlU2VhcmNoIiwiZGVsZXRlU2F2ZWRTZWFyY2giLCJnZXRGYXZvcml0ZUFwYXJ0bWVudHMiLCJnZXRBcGFydG1lbnROb3RlcyIsImFkZEFwYXJ0bWVudE5vdGUiLCJ1cGRhdGVBcGFydG1lbnROb3RlIiwiZGVsZXRlQXBhcnRtZW50Tm90ZSIsImdldCIsInB1dCIsImRlbGV0ZSIsInBvc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidXNlci5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgeyBwcm90ZWN0IH0gPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZScpO1xyXG5jb25zdCB7XHJcbiAgZ2V0UHJvZmlsZSxcclxuICB1cGRhdGVQcm9maWxlLFxyXG4gIGRlbGV0ZVByb2ZpbGUsXHJcbiAgdXBkYXRlUHJlZmVyZW5jZXMsXHJcbiAgZ2V0U2F2ZWRTZWFyY2hlcyxcclxuICBzYXZlU2VhcmNoLFxyXG4gIGRlbGV0ZVNhdmVkU2VhcmNoLFxyXG4gIGdldEZhdm9yaXRlQXBhcnRtZW50cyxcclxuICBnZXRBcGFydG1lbnROb3RlcyxcclxuICBhZGRBcGFydG1lbnROb3RlLFxyXG4gIHVwZGF0ZUFwYXJ0bWVudE5vdGUsXHJcbiAgZGVsZXRlQXBhcnRtZW50Tm90ZSxcclxufSA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL3VzZXIuY29udHJvbGxlcicpO1xyXG5cclxuLy8gUHJvZmlsZSByb3V0ZXNcclxucm91dGVyLmdldCgnL3Byb2ZpbGUnLCBwcm90ZWN0LCBnZXRQcm9maWxlKTtcclxucm91dGVyLnB1dCgnL3Byb2ZpbGUnLCBwcm90ZWN0LCB1cGRhdGVQcm9maWxlKTtcclxucm91dGVyLmRlbGV0ZSgnL3Byb2ZpbGUnLCBwcm90ZWN0LCBkZWxldGVQcm9maWxlKTtcclxuXHJcbi8vIFByZWZlcmVuY2VzIHJvdXRlc1xyXG5yb3V0ZXIuZ2V0KCcvcHJlZmVyZW5jZXMnLCBwcm90ZWN0LCB1cGRhdGVQcmVmZXJlbmNlcyk7XHJcbnJvdXRlci5wdXQoJy9wcmVmZXJlbmNlcycsIHByb3RlY3QsIHVwZGF0ZVByZWZlcmVuY2VzKTtcclxuXHJcbi8vIFNhdmVkIHNlYXJjaGVzIHJvdXRlc1xyXG5yb3V0ZXIuZ2V0KCcvc2VhcmNoZXMnLCBwcm90ZWN0LCBnZXRTYXZlZFNlYXJjaGVzKTtcclxucm91dGVyLnBvc3QoJy9zZWFyY2hlcycsIHByb3RlY3QsIHNhdmVTZWFyY2gpO1xyXG5yb3V0ZXIuZGVsZXRlKCcvc2VhcmNoZXMvOmlkJywgcHJvdGVjdCwgZGVsZXRlU2F2ZWRTZWFyY2gpO1xyXG5cclxuLy8gRmF2b3JpdGVzIGFuZCBub3RlcyByb3V0ZXNcclxucm91dGVyLmdldCgnL2Zhdm9yaXRlcycsIHByb3RlY3QsIGdldEZhdm9yaXRlQXBhcnRtZW50cyk7XHJcbnJvdXRlci5nZXQoJy9hcGFydG1lbnRzLzppZC9ub3RlcycsIHByb3RlY3QsIGdldEFwYXJ0bWVudE5vdGVzKTtcclxucm91dGVyLnBvc3QoJy9hcGFydG1lbnRzLzppZC9ub3RlcycsIHByb3RlY3QsIGFkZEFwYXJ0bWVudE5vdGUpO1xyXG5yb3V0ZXIucHV0KCcvYXBhcnRtZW50cy86aWQvbm90ZXMvOm5vdGVJZCcsIHByb3RlY3QsIHVwZGF0ZUFwYXJ0bWVudE5vdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKCcvYXBhcnRtZW50cy86aWQvbm90ZXMvOm5vdGVJZCcsIHByb3RlY3QsIGRlbGV0ZUFwYXJ0bWVudE5vdGUpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUMvQixNQUFNO0VBQUVDO0FBQVEsQ0FBQyxHQUFHSCxPQUFPLENBQUMsK0JBQStCLENBQUM7QUFDNUQsTUFBTTtFQUNKSSxVQUFVO0VBQ1ZDLGFBQWE7RUFDYkMsYUFBYTtFQUNiQyxpQkFBaUI7RUFDakJDLGdCQUFnQjtFQUNoQkMsVUFBVTtFQUNWQyxpQkFBaUI7RUFDakJDLHFCQUFxQjtFQUNyQkMsaUJBQWlCO0VBQ2pCQyxnQkFBZ0I7RUFDaEJDLG1CQUFtQjtFQUNuQkM7QUFDRixDQUFDLEdBQUdmLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQzs7QUFFN0M7QUFDQUMsTUFBTSxDQUFDZSxHQUFHLENBQUMsVUFBVSxFQUFFYixPQUFPLEVBQUVDLFVBQVUsQ0FBQztBQUMzQ0gsTUFBTSxDQUFDZ0IsR0FBRyxDQUFDLFVBQVUsRUFBRWQsT0FBTyxFQUFFRSxhQUFhLENBQUM7QUFDOUNKLE1BQU0sQ0FBQ2lCLE1BQU0sQ0FBQyxVQUFVLEVBQUVmLE9BQU8sRUFBRUcsYUFBYSxDQUFDOztBQUVqRDtBQUNBTCxNQUFNLENBQUNlLEdBQUcsQ0FBQyxjQUFjLEVBQUViLE9BQU8sRUFBRUksaUJBQWlCLENBQUM7QUFDdEROLE1BQU0sQ0FBQ2dCLEdBQUcsQ0FBQyxjQUFjLEVBQUVkLE9BQU8sRUFBRUksaUJBQWlCLENBQUM7O0FBRXREO0FBQ0FOLE1BQU0sQ0FBQ2UsR0FBRyxDQUFDLFdBQVcsRUFBRWIsT0FBTyxFQUFFSyxnQkFBZ0IsQ0FBQztBQUNsRFAsTUFBTSxDQUFDa0IsSUFBSSxDQUFDLFdBQVcsRUFBRWhCLE9BQU8sRUFBRU0sVUFBVSxDQUFDO0FBQzdDUixNQUFNLENBQUNpQixNQUFNLENBQUMsZUFBZSxFQUFFZixPQUFPLEVBQUVPLGlCQUFpQixDQUFDOztBQUUxRDtBQUNBVCxNQUFNLENBQUNlLEdBQUcsQ0FBQyxZQUFZLEVBQUViLE9BQU8sRUFBRVEscUJBQXFCLENBQUM7QUFDeERWLE1BQU0sQ0FBQ2UsR0FBRyxDQUFDLHVCQUF1QixFQUFFYixPQUFPLEVBQUVTLGlCQUFpQixDQUFDO0FBQy9EWCxNQUFNLENBQUNrQixJQUFJLENBQUMsdUJBQXVCLEVBQUVoQixPQUFPLEVBQUVVLGdCQUFnQixDQUFDO0FBQy9EWixNQUFNLENBQUNnQixHQUFHLENBQUMsK0JBQStCLEVBQUVkLE9BQU8sRUFBRVcsbUJBQW1CLENBQUM7QUFDekViLE1BQU0sQ0FBQ2lCLE1BQU0sQ0FBQywrQkFBK0IsRUFBRWYsT0FBTyxFQUFFWSxtQkFBbUIsQ0FBQztBQUU1RUssTUFBTSxDQUFDQyxPQUFPLEdBQUdwQixNQUFNIiwiaWdub3JlTGlzdCI6W119