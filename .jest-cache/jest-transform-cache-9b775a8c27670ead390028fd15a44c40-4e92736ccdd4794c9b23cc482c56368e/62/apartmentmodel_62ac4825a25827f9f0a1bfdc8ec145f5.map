{"version":3,"names":["mongoose","require","apartmentSchema","Schema","title","type","String","required","trim","description","price","Number","min","location","enum","default","coordinates","address","street","city","state","zipCode","country","bedrooms","bathrooms","area","amenities","images","owner","Types","ObjectId","ref","status","isPublic","Boolean","externalUrl","timestamps","index","Apartment","model","module","exports"],"sources":["apartment.model.js"],"sourcesContent":["const mongoose = require('mongoose');\n\nconst apartmentSchema = new mongoose.Schema(\n  {\n    title: {\n      type: String,\n      required: true,\n      trim: true,\n    },\n    description: {\n      type: String,\n      required: true,\n    },\n    price: {\n      type: Number,\n      required: true,\n      min: 0,\n    },\n    location: {\n      type: {\n        type: String,\n        enum: ['Point'],\n        default: 'Point',\n      },\n      coordinates: {\n        type: [Number],\n        required: true,\n      },\n      address: {\n        street: String,\n        city: String,\n        state: String,\n        zipCode: String,\n        country: String,\n      },\n    },\n    bedrooms: {\n      type: Number,\n      required: true,\n      min: 0,\n    },\n    bathrooms: {\n      type: Number,\n      required: true,\n      min: 0,\n    },\n    area: {\n      type: Number,\n      required: true,\n      min: 0,\n    },\n    amenities: [\n      {\n        type: String,\n      },\n    ],\n    images: [\n      {\n        type: String,\n      },\n    ],\n    owner: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: 'User',\n      required: true,\n    },\n    status: {\n      type: String,\n      enum: ['available', 'rented', 'pending'],\n      default: 'available',\n    },\n    isPublic: {\n      type: Boolean,\n      default: true,\n    },\n    externalUrl: {\n      type: String,\n      trim: true,\n    },\n  },\n  {\n    timestamps: true,\n  }\n);\n\n// Create geospatial index for location queries\napartmentSchema.index({ location: '2dsphere' });\n\n// Add indexes for the title, price, status, and isPublic fields\napartmentSchema.index({ title: 1 });\napartmentSchema.index({ price: 1 });\napartmentSchema.index({ status: 1 });\napartmentSchema.index({ isPublic: 1 });\n\nconst Apartment = mongoose.model('Apartment', apartmentSchema);\n\nmodule.exports = Apartment;\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,eAAe,GAAG,IAAIF,QAAQ,CAACG,MAAM,CACzC;EACEC,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdC,IAAI,EAAE;EACR,CAAC;EACDC,WAAW,EAAE;IACXJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,KAAK,EAAE;IACLL,IAAI,EAAEM,MAAM;IACZJ,QAAQ,EAAE,IAAI;IACdK,GAAG,EAAE;EACP,CAAC;EACDC,QAAQ,EAAE;IACRR,IAAI,EAAE;MACJA,IAAI,EAAEC,MAAM;MACZQ,IAAI,EAAE,CAAC,OAAO,CAAC;MACfC,OAAO,EAAE;IACX,CAAC;IACDC,WAAW,EAAE;MACXX,IAAI,EAAE,CAACM,MAAM,CAAC;MACdJ,QAAQ,EAAE;IACZ,CAAC;IACDU,OAAO,EAAE;MACPC,MAAM,EAAEZ,MAAM;MACda,IAAI,EAAEb,MAAM;MACZc,KAAK,EAAEd,MAAM;MACbe,OAAO,EAAEf,MAAM;MACfgB,OAAO,EAAEhB;IACX;EACF,CAAC;EACDiB,QAAQ,EAAE;IACRlB,IAAI,EAAEM,MAAM;IACZJ,QAAQ,EAAE,IAAI;IACdK,GAAG,EAAE;EACP,CAAC;EACDY,SAAS,EAAE;IACTnB,IAAI,EAAEM,MAAM;IACZJ,QAAQ,EAAE,IAAI;IACdK,GAAG,EAAE;EACP,CAAC;EACDa,IAAI,EAAE;IACJpB,IAAI,EAAEM,MAAM;IACZJ,QAAQ,EAAE,IAAI;IACdK,GAAG,EAAE;EACP,CAAC;EACDc,SAAS,EAAE,CACT;IACErB,IAAI,EAAEC;EACR,CAAC,CACF;EACDqB,MAAM,EAAE,CACN;IACEtB,IAAI,EAAEC;EACR,CAAC,CACF;EACDsB,KAAK,EAAE;IACLvB,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAAC0B,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE,MAAM;IACXxB,QAAQ,EAAE;EACZ,CAAC;EACDyB,MAAM,EAAE;IACN3B,IAAI,EAAEC,MAAM;IACZQ,IAAI,EAAE,CAAC,WAAW,EAAE,QAAQ,EAAE,SAAS,CAAC;IACxCC,OAAO,EAAE;EACX,CAAC;EACDkB,QAAQ,EAAE;IACR5B,IAAI,EAAE6B,OAAO;IACbnB,OAAO,EAAE;EACX,CAAC;EACDoB,WAAW,EAAE;IACX9B,IAAI,EAAEC,MAAM;IACZE,IAAI,EAAE;EACR;AACF,CAAC,EACD;EACE4B,UAAU,EAAE;AACd,CACF,CAAC;;AAED;AACAlC,eAAe,CAACmC,KAAK,CAAC;EAAExB,QAAQ,EAAE;AAAW,CAAC,CAAC;;AAE/C;AACAX,eAAe,CAACmC,KAAK,CAAC;EAAEjC,KAAK,EAAE;AAAE,CAAC,CAAC;AACnCF,eAAe,CAACmC,KAAK,CAAC;EAAE3B,KAAK,EAAE;AAAE,CAAC,CAAC;AACnCR,eAAe,CAACmC,KAAK,CAAC;EAAEL,MAAM,EAAE;AAAE,CAAC,CAAC;AACpC9B,eAAe,CAACmC,KAAK,CAAC;EAAEJ,QAAQ,EAAE;AAAE,CAAC,CAAC;AAEtC,MAAMK,SAAS,GAAGtC,QAAQ,CAACuC,KAAK,CAAC,WAAW,EAAErC,eAAe,CAAC;AAE9DsC,MAAM,CAACC,OAAO,GAAGH,SAAS","ignoreList":[]}