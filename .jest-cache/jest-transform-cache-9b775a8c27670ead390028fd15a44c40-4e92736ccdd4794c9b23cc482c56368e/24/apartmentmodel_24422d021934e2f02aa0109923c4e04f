aba3c6743e634577f3e90406372320e1
const mongoose = require('mongoose');
const apartmentSchema = new mongoose.Schema({
  title: {
    type: String,
    required: true,
    trim: true
  },
  description: {
    type: String,
    required: true
  },
  price: {
    type: Number,
    required: true,
    min: 0
  },
  location: {
    type: {
      type: String,
      enum: ['Point'],
      default: 'Point'
    },
    coordinates: {
      type: [Number],
      required: true
    },
    address: {
      street: String,
      city: String,
      state: String,
      zipCode: String,
      country: String
    }
  },
  bedrooms: {
    type: Number,
    required: true,
    min: 0
  },
  bathrooms: {
    type: Number,
    required: true,
    min: 0
  },
  area: {
    type: Number,
    required: true,
    min: 0
  },
  amenities: [{
    type: String
  }],
  images: [{
    type: String
  }],
  owner: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'User',
    required: true
  },
  status: {
    type: String,
    enum: ['available', 'rented', 'pending'],
    default: 'available'
  }
}, {
  timestamps: true
});

// Create geospatial index for location queries
apartmentSchema.index({
  location: '2dsphere'
});
const Apartment = mongoose.model('Apartment', apartmentSchema);
module.exports = Apartment;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJhcGFydG1lbnRTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiTnVtYmVyIiwibWluIiwibG9jYXRpb24iLCJlbnVtIiwiZGVmYXVsdCIsImNvb3JkaW5hdGVzIiwiYWRkcmVzcyIsInN0cmVldCIsImNpdHkiLCJzdGF0ZSIsInppcENvZGUiLCJjb3VudHJ5IiwiYmVkcm9vbXMiLCJiYXRocm9vbXMiLCJhcmVhIiwiYW1lbml0aWVzIiwiaW1hZ2VzIiwib3duZXIiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwic3RhdHVzIiwidGltZXN0YW1wcyIsImluZGV4IiwiQXBhcnRtZW50IiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiYXBhcnRtZW50Lm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IGFwYXJ0bWVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgdGl0bGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgdHJpbTogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBkZXNjcmlwdGlvbjoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHByaWNlOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIG1pbjogMCxcclxuICAgIH0sXHJcbiAgICBsb2NhdGlvbjoge1xyXG4gICAgICB0eXBlOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGVudW06IFsnUG9pbnQnXSxcclxuICAgICAgICBkZWZhdWx0OiAnUG9pbnQnLFxyXG4gICAgICB9LFxyXG4gICAgICBjb29yZGluYXRlczoge1xyXG4gICAgICAgIHR5cGU6IFtOdW1iZXJdLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICB9LFxyXG4gICAgICBhZGRyZXNzOiB7XHJcbiAgICAgICAgc3RyZWV0OiBTdHJpbmcsXHJcbiAgICAgICAgY2l0eTogU3RyaW5nLFxyXG4gICAgICAgIHN0YXRlOiBTdHJpbmcsXHJcbiAgICAgICAgemlwQ29kZTogU3RyaW5nLFxyXG4gICAgICAgIGNvdW50cnk6IFN0cmluZyxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBiZWRyb29tczoge1xyXG4gICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICBtaW46IDAsXHJcbiAgICB9LFxyXG4gICAgYmF0aHJvb21zOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIG1pbjogMCxcclxuICAgIH0sXHJcbiAgICBhcmVhOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIG1pbjogMCxcclxuICAgIH0sXHJcbiAgICBhbWVuaXRpZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBpbWFnZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBvd25lcjoge1xyXG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgIHJlZjogJ1VzZXInLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBzdGF0dXM6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBlbnVtOiBbJ2F2YWlsYWJsZScsICdyZW50ZWQnLCAncGVuZGluZyddLFxyXG4gICAgICBkZWZhdWx0OiAnYXZhaWxhYmxlJyxcclxuICAgIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gIH1cclxuKTtcclxuXHJcbi8vIENyZWF0ZSBnZW9zcGF0aWFsIGluZGV4IGZvciBsb2NhdGlvbiBxdWVyaWVzXHJcbmFwYXJ0bWVudFNjaGVtYS5pbmRleCh7IGxvY2F0aW9uOiAnMmRzcGhlcmUnIH0pO1xyXG5cclxuY29uc3QgQXBhcnRtZW50ID0gbW9uZ29vc2UubW9kZWwoJ0FwYXJ0bWVudCcsIGFwYXJ0bWVudFNjaGVtYSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEFwYXJ0bWVudDtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFFcEMsTUFBTUMsZUFBZSxHQUFHLElBQUlGLFFBQVEsQ0FBQ0csTUFBTSxDQUN6QztFQUNFQyxLQUFLLEVBQUU7SUFDTEMsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLElBQUksRUFBRTtFQUNSLENBQUM7RUFDREMsV0FBVyxFQUFFO0lBQ1hKLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RHLEtBQUssRUFBRTtJQUNMTCxJQUFJLEVBQUVNLE1BQU07SUFDWkosUUFBUSxFQUFFLElBQUk7SUFDZEssR0FBRyxFQUFFO0VBQ1AsQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFDUlIsSUFBSSxFQUFFO01BQ0pBLElBQUksRUFBRUMsTUFBTTtNQUNaUSxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUM7TUFDZkMsT0FBTyxFQUFFO0lBQ1gsQ0FBQztJQUNEQyxXQUFXLEVBQUU7TUFDWFgsSUFBSSxFQUFFLENBQUNNLE1BQU0sQ0FBQztNQUNkSixRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RVLE9BQU8sRUFBRTtNQUNQQyxNQUFNLEVBQUVaLE1BQU07TUFDZGEsSUFBSSxFQUFFYixNQUFNO01BQ1pjLEtBQUssRUFBRWQsTUFBTTtNQUNiZSxPQUFPLEVBQUVmLE1BQU07TUFDZmdCLE9BQU8sRUFBRWhCO0lBQ1g7RUFDRixDQUFDO0VBQ0RpQixRQUFRLEVBQUU7SUFDUmxCLElBQUksRUFBRU0sTUFBTTtJQUNaSixRQUFRLEVBQUUsSUFBSTtJQUNkSyxHQUFHLEVBQUU7RUFDUCxDQUFDO0VBQ0RZLFNBQVMsRUFBRTtJQUNUbkIsSUFBSSxFQUFFTSxNQUFNO0lBQ1pKLFFBQVEsRUFBRSxJQUFJO0lBQ2RLLEdBQUcsRUFBRTtFQUNQLENBQUM7RUFDRGEsSUFBSSxFQUFFO0lBQ0pwQixJQUFJLEVBQUVNLE1BQU07SUFDWkosUUFBUSxFQUFFLElBQUk7SUFDZEssR0FBRyxFQUFFO0VBQ1AsQ0FBQztFQUNEYyxTQUFTLEVBQUUsQ0FDVDtJQUNFckIsSUFBSSxFQUFFQztFQUNSLENBQUMsQ0FDRjtFQUNEcUIsTUFBTSxFQUFFLENBQ047SUFDRXRCLElBQUksRUFBRUM7RUFDUixDQUFDLENBQ0Y7RUFDRHNCLEtBQUssRUFBRTtJQUNMdkIsSUFBSSxFQUFFTCxRQUFRLENBQUNHLE1BQU0sQ0FBQzBCLEtBQUssQ0FBQ0MsUUFBUTtJQUNwQ0MsR0FBRyxFQUFFLE1BQU07SUFDWHhCLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRHlCLE1BQU0sRUFBRTtJQUNOM0IsSUFBSSxFQUFFQyxNQUFNO0lBQ1pRLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDO0lBQ3hDQyxPQUFPLEVBQUU7RUFDWDtBQUNGLENBQUMsRUFDRDtFQUNFa0IsVUFBVSxFQUFFO0FBQ2QsQ0FDRixDQUFDOztBQUVEO0FBQ0EvQixlQUFlLENBQUNnQyxLQUFLLENBQUM7RUFBRXJCLFFBQVEsRUFBRTtBQUFXLENBQUMsQ0FBQztBQUUvQyxNQUFNc0IsU0FBUyxHQUFHbkMsUUFBUSxDQUFDb0MsS0FBSyxDQUFDLFdBQVcsRUFBRWxDLGVBQWUsQ0FBQztBQUU5RG1DLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHSCxTQUFTIiwiaWdub3JlTGlzdCI6W119