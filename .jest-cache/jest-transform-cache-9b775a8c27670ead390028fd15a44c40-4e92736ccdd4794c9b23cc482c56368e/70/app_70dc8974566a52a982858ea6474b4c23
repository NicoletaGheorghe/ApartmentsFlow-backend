6809fb2186a0bda2825527b6ff362799
const express = require('express');
const mongoose = require('mongoose');
const userRoutes = require('./routes/user.routes');
const apartmentRoutes = require('./routes/apartment.routes');
const app = express();

// Middleware
app.use(express.json());

// Routes
app.use('/api/users', userRoutes);
app.use('/api/apartments', apartmentRoutes);

// 404 handler
app.use((req, res) => {
  res.status(404).json({
    error: "Sorry, can't find that"
  });
});

// Error handling middleware
app.use((err, req, res, next) => {
  console.error(err.stack);
  res.status(500).json({
    message: 'Something went wrong!'
  });
});
module.exports = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vbmdvb3NlIiwidXNlclJvdXRlcyIsImFwYXJ0bWVudFJvdXRlcyIsImFwcCIsInVzZSIsImpzb24iLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJlcnJvciIsImVyciIsIm5leHQiLCJjb25zb2xlIiwic3RhY2siLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcbmNvbnN0IHVzZXJSb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcy91c2VyLnJvdXRlcycpO1xyXG5jb25zdCBhcGFydG1lbnRSb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcy9hcGFydG1lbnQucm91dGVzJyk7XHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG4vLyBNaWRkbGV3YXJlXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5cclxuLy8gUm91dGVzXHJcbmFwcC51c2UoJy9hcGkvdXNlcnMnLCB1c2VyUm91dGVzKTtcclxuYXBwLnVzZSgnL2FwaS9hcGFydG1lbnRzJywgYXBhcnRtZW50Um91dGVzKTtcclxuXHJcbi8vIDQwNCBoYW5kbGVyXHJcbmFwcC51c2UoKHJlcSwgcmVzKSA9PiB7XHJcbiAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJTb3JyeSwgY2FuJ3QgZmluZCB0aGF0XCIgfSk7XHJcbn0pO1xyXG5cclxuLy8gRXJyb3IgaGFuZGxpbmcgbWlkZGxld2FyZVxyXG5hcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcihlcnIuc3RhY2spO1xyXG4gIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nIScgfSk7XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBhcHA7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1DLFFBQVEsR0FBR0QsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNwQyxNQUFNRSxVQUFVLEdBQUdGLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztBQUNsRCxNQUFNRyxlQUFlLEdBQUdILE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztBQUU1RCxNQUFNSSxHQUFHLEdBQUdMLE9BQU8sQ0FBQyxDQUFDOztBQUVyQjtBQUNBSyxHQUFHLENBQUNDLEdBQUcsQ0FBQ04sT0FBTyxDQUFDTyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUV2QjtBQUNBRixHQUFHLENBQUNDLEdBQUcsQ0FBQyxZQUFZLEVBQUVILFVBQVUsQ0FBQztBQUNqQ0UsR0FBRyxDQUFDQyxHQUFHLENBQUMsaUJBQWlCLEVBQUVGLGVBQWUsQ0FBQzs7QUFFM0M7QUFDQUMsR0FBRyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0UsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDcEJBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDSCxJQUFJLENBQUM7SUFBRUksS0FBSyxFQUFFO0VBQXlCLENBQUMsQ0FBQztBQUMzRCxDQUFDLENBQUM7O0FBRUY7QUFDQU4sR0FBRyxDQUFDQyxHQUFHLENBQUMsQ0FBQ00sR0FBRyxFQUFFSixHQUFHLEVBQUVDLEdBQUcsRUFBRUksSUFBSSxLQUFLO0VBQy9CQyxPQUFPLENBQUNILEtBQUssQ0FBQ0MsR0FBRyxDQUFDRyxLQUFLLENBQUM7RUFDeEJOLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDSCxJQUFJLENBQUM7SUFBRVMsT0FBTyxFQUFFO0VBQXdCLENBQUMsQ0FBQztBQUM1RCxDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUdiLEdBQUciLCJpZ25vcmVMaXN0IjpbXX0=