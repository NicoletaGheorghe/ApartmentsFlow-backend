5c5bed4e435e4798fdfa700239f5d08a
const express = require('express');
const router = express.Router();
const {
  protect
} = require('../middleware/auth.middleware');
const {
  getProfile,
  updateProfile,
  deleteProfile,
  updatePreferences,
  getSavedSearches,
  saveSearch,
  deleteSavedSearch,
  getFavoriteApartments,
  getApartmentNotes,
  addApartmentNote,
  updateApartmentNote,
  deleteApartmentNote
} = require('../controllers/user.controller');

// Profile routes
router.get('/profile', protect, getProfile);
router.put('/profile', protect, updateProfile);
router.delete('/profile', protect, deleteProfile);

// Preferences routes
router.get('/preferences', protect, updatePreferences);
router.put('/preferences', protect, updatePreferences);

// Saved searches routes
router.get('/searches', protect, getSavedSearches);
router.post('/searches', protect, saveSearch);
router.delete('/searches/:id', protect, deleteSavedSearch);

// Favorites and notes routes
router.get('/favorites', protect, getFavoriteApartments);
router.get('/apartments/:id/notes', protect, getApartmentNotes);
router.post('/apartments/:id/notes', protect, addApartmentNote);
router.put('/apartments/:id/notes/:noteId', protect, updateApartmentNote);
router.delete('/apartments/:id/notes/:noteId', protect, deleteApartmentNote);
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsInJvdXRlciIsIlJvdXRlciIsInByb3RlY3QiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsImRlbGV0ZVByb2ZpbGUiLCJ1cGRhdGVQcmVmZXJlbmNlcyIsImdldFNhdmVkU2VhcmNoZXMiLCJzYXZlU2VhcmNoIiwiZGVsZXRlU2F2ZWRTZWFyY2giLCJnZXRGYXZvcml0ZUFwYXJ0bWVudHMiLCJnZXRBcGFydG1lbnROb3RlcyIsImFkZEFwYXJ0bWVudE5vdGUiLCJ1cGRhdGVBcGFydG1lbnROb3RlIiwiZGVsZXRlQXBhcnRtZW50Tm90ZSIsImdldCIsInB1dCIsImRlbGV0ZSIsInBvc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsidXNlci5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgeyBwcm90ZWN0IH0gPSByZXF1aXJlKCcuLi9taWRkbGV3YXJlL2F1dGgubWlkZGxld2FyZScpO1xyXG5jb25zdCB7XHJcbiAgZ2V0UHJvZmlsZSxcclxuICB1cGRhdGVQcm9maWxlLFxyXG4gIGRlbGV0ZVByb2ZpbGUsXHJcbiAgdXBkYXRlUHJlZmVyZW5jZXMsXHJcbiAgZ2V0U2F2ZWRTZWFyY2hlcyxcclxuICBzYXZlU2VhcmNoLFxyXG4gIGRlbGV0ZVNhdmVkU2VhcmNoLFxyXG4gIGdldEZhdm9yaXRlQXBhcnRtZW50cyxcclxuICBnZXRBcGFydG1lbnROb3RlcyxcclxuICBhZGRBcGFydG1lbnROb3RlLFxyXG4gIHVwZGF0ZUFwYXJ0bWVudE5vdGUsXHJcbiAgZGVsZXRlQXBhcnRtZW50Tm90ZVxyXG59ID0gcmVxdWlyZSgnLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyJyk7XHJcblxyXG4vLyBQcm9maWxlIHJvdXRlc1xyXG5yb3V0ZXIuZ2V0KCcvcHJvZmlsZScsIHByb3RlY3QsIGdldFByb2ZpbGUpO1xyXG5yb3V0ZXIucHV0KCcvcHJvZmlsZScsIHByb3RlY3QsIHVwZGF0ZVByb2ZpbGUpO1xyXG5yb3V0ZXIuZGVsZXRlKCcvcHJvZmlsZScsIHByb3RlY3QsIGRlbGV0ZVByb2ZpbGUpO1xyXG5cclxuLy8gUHJlZmVyZW5jZXMgcm91dGVzXHJcbnJvdXRlci5nZXQoJy9wcmVmZXJlbmNlcycsIHByb3RlY3QsIHVwZGF0ZVByZWZlcmVuY2VzKTtcclxucm91dGVyLnB1dCgnL3ByZWZlcmVuY2VzJywgcHJvdGVjdCwgdXBkYXRlUHJlZmVyZW5jZXMpO1xyXG5cclxuLy8gU2F2ZWQgc2VhcmNoZXMgcm91dGVzXHJcbnJvdXRlci5nZXQoJy9zZWFyY2hlcycsIHByb3RlY3QsIGdldFNhdmVkU2VhcmNoZXMpO1xyXG5yb3V0ZXIucG9zdCgnL3NlYXJjaGVzJywgcHJvdGVjdCwgc2F2ZVNlYXJjaCk7XHJcbnJvdXRlci5kZWxldGUoJy9zZWFyY2hlcy86aWQnLCBwcm90ZWN0LCBkZWxldGVTYXZlZFNlYXJjaCk7XHJcblxyXG4vLyBGYXZvcml0ZXMgYW5kIG5vdGVzIHJvdXRlc1xyXG5yb3V0ZXIuZ2V0KCcvZmF2b3JpdGVzJywgcHJvdGVjdCwgZ2V0RmF2b3JpdGVBcGFydG1lbnRzKTtcclxucm91dGVyLmdldCgnL2FwYXJ0bWVudHMvOmlkL25vdGVzJywgcHJvdGVjdCwgZ2V0QXBhcnRtZW50Tm90ZXMpO1xyXG5yb3V0ZXIucG9zdCgnL2FwYXJ0bWVudHMvOmlkL25vdGVzJywgcHJvdGVjdCwgYWRkQXBhcnRtZW50Tm90ZSk7XHJcbnJvdXRlci5wdXQoJy9hcGFydG1lbnRzLzppZC9ub3Rlcy86bm90ZUlkJywgcHJvdGVjdCwgdXBkYXRlQXBhcnRtZW50Tm90ZSk7XHJcbnJvdXRlci5kZWxldGUoJy9hcGFydG1lbnRzLzppZC9ub3Rlcy86bm90ZUlkJywgcHJvdGVjdCwgZGVsZXRlQXBhcnRtZW50Tm90ZSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsgIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUMsTUFBTSxHQUFHRixPQUFPLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE1BQU07RUFBRUM7QUFBUSxDQUFDLEdBQUdILE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQUM1RCxNQUFNO0VBQ0pJLFVBQVU7RUFDVkMsYUFBYTtFQUNiQyxhQUFhO0VBQ2JDLGlCQUFpQjtFQUNqQkMsZ0JBQWdCO0VBQ2hCQyxVQUFVO0VBQ1ZDLGlCQUFpQjtFQUNqQkMscUJBQXFCO0VBQ3JCQyxpQkFBaUI7RUFDakJDLGdCQUFnQjtFQUNoQkMsbUJBQW1CO0VBQ25CQztBQUNGLENBQUMsR0FBR2YsT0FBTyxDQUFDLGdDQUFnQyxDQUFDOztBQUU3QztBQUNBQyxNQUFNLENBQUNlLEdBQUcsQ0FBQyxVQUFVLEVBQUViLE9BQU8sRUFBRUMsVUFBVSxDQUFDO0FBQzNDSCxNQUFNLENBQUNnQixHQUFHLENBQUMsVUFBVSxFQUFFZCxPQUFPLEVBQUVFLGFBQWEsQ0FBQztBQUM5Q0osTUFBTSxDQUFDaUIsTUFBTSxDQUFDLFVBQVUsRUFBRWYsT0FBTyxFQUFFRyxhQUFhLENBQUM7O0FBRWpEO0FBQ0FMLE1BQU0sQ0FBQ2UsR0FBRyxDQUFDLGNBQWMsRUFBRWIsT0FBTyxFQUFFSSxpQkFBaUIsQ0FBQztBQUN0RE4sTUFBTSxDQUFDZ0IsR0FBRyxDQUFDLGNBQWMsRUFBRWQsT0FBTyxFQUFFSSxpQkFBaUIsQ0FBQzs7QUFFdEQ7QUFDQU4sTUFBTSxDQUFDZSxHQUFHLENBQUMsV0FBVyxFQUFFYixPQUFPLEVBQUVLLGdCQUFnQixDQUFDO0FBQ2xEUCxNQUFNLENBQUNrQixJQUFJLENBQUMsV0FBVyxFQUFFaEIsT0FBTyxFQUFFTSxVQUFVLENBQUM7QUFDN0NSLE1BQU0sQ0FBQ2lCLE1BQU0sQ0FBQyxlQUFlLEVBQUVmLE9BQU8sRUFBRU8saUJBQWlCLENBQUM7O0FBRTFEO0FBQ0FULE1BQU0sQ0FBQ2UsR0FBRyxDQUFDLFlBQVksRUFBRWIsT0FBTyxFQUFFUSxxQkFBcUIsQ0FBQztBQUN4RFYsTUFBTSxDQUFDZSxHQUFHLENBQUMsdUJBQXVCLEVBQUViLE9BQU8sRUFBRVMsaUJBQWlCLENBQUM7QUFDL0RYLE1BQU0sQ0FBQ2tCLElBQUksQ0FBQyx1QkFBdUIsRUFBRWhCLE9BQU8sRUFBRVUsZ0JBQWdCLENBQUM7QUFDL0RaLE1BQU0sQ0FBQ2dCLEdBQUcsQ0FBQywrQkFBK0IsRUFBRWQsT0FBTyxFQUFFVyxtQkFBbUIsQ0FBQztBQUN6RWIsTUFBTSxDQUFDaUIsTUFBTSxDQUFDLCtCQUErQixFQUFFZixPQUFPLEVBQUVZLG1CQUFtQixDQUFDO0FBRTVFSyxNQUFNLENBQUNDLE9BQU8sR0FBR3BCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=