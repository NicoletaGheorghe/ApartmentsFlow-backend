5017653b93f807087d8641305a28e7a4
const {
  body,
  param,
  query
} = require('express-validator');

// Validation middleware for apartment creation/updates
const validateApartment = [body('title').trim().notEmpty().withMessage('Title is required').isLength({
  min: 3,
  max: 100
}).withMessage('Title must be between 3 and 100 characters'), body('description').trim().notEmpty().withMessage('Description is required').isLength({
  min: 10,
  max: 2000
}).withMessage('Description must be between 10 and 2000 characters'), body('price').isFloat({
  min: 0
}).withMessage('Price must be a positive number'), body('location.coordinates').isArray({
  min: 2,
  max: 2
}).withMessage('Location coordinates must be an array of [longitude, latitude]'), body('location.coordinates.*').isFloat().withMessage('Coordinates must be valid numbers'), body('bedrooms').isInt({
  min: 0
}).withMessage('Bedrooms must be a non-negative integer'), body('bathrooms').isFloat({
  min: 0
}).withMessage('Bathrooms must be a non-negative number'), body('area').isFloat({
  min: 0
}).withMessage('Area must be a positive number'), body('amenities').optional().isArray().withMessage('Amenities must be an array'), body('images').optional().isArray().withMessage('Images must be an array'), body('status').optional().isIn(['available', 'rented', 'pending']).withMessage('Invalid status value'), body('isPublic').optional().isBoolean().withMessage('isPublic must be a boolean'), body('externalUrl').optional().isURL().withMessage('Invalid external URL format')];

// Validation middleware for query parameters
const validateApartmentQuery = [query('page').optional().isInt({
  min: 1
}).withMessage('Page must be a positive integer'), query('limit').optional().isInt({
  min: 1,
  max: 100
}).withMessage('Limit must be between 1 and 100'), query('minPrice').optional().isFloat({
  min: 0
}).withMessage('Minimum price must be a positive number'), query('maxPrice').optional().isFloat({
  min: 0
}).withMessage('Maximum price must be a positive number'), query('bedrooms').optional().isInt({
  min: 0
}).withMessage('Bedrooms must be a non-negative integer'), query('status').optional().isIn(['available', 'rented', 'pending']).withMessage('Invalid status value'), query('lat').optional().isFloat().withMessage('Latitude must be a valid number'), query('lng').optional().isFloat().withMessage('Longitude must be a valid number'), query('radius').optional().isFloat({
  min: 0
}).withMessage('Radius must be a positive number')];

// Validation middleware for MongoDB ObjectId parameters
const validateObjectId = [param('id').isMongoId().withMessage('Invalid ID format')];
module.exports = {
  validateApartment,
  validateApartmentQuery,
  validateObjectId
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJib2R5IiwicGFyYW0iLCJxdWVyeSIsInJlcXVpcmUiLCJ2YWxpZGF0ZUFwYXJ0bWVudCIsInRyaW0iLCJub3RFbXB0eSIsIndpdGhNZXNzYWdlIiwiaXNMZW5ndGgiLCJtaW4iLCJtYXgiLCJpc0Zsb2F0IiwiaXNBcnJheSIsImlzSW50Iiwib3B0aW9uYWwiLCJpc0luIiwiaXNCb29sZWFuIiwiaXNVUkwiLCJ2YWxpZGF0ZUFwYXJ0bWVudFF1ZXJ5IiwidmFsaWRhdGVPYmplY3RJZCIsImlzTW9uZ29JZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJ2YWxpZGF0aW9uLm1pZGRsZXdhcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBib2R5LCBwYXJhbSwgcXVlcnkgfSA9IHJlcXVpcmUoJ2V4cHJlc3MtdmFsaWRhdG9yJyk7XHJcblxyXG4vLyBWYWxpZGF0aW9uIG1pZGRsZXdhcmUgZm9yIGFwYXJ0bWVudCBjcmVhdGlvbi91cGRhdGVzXHJcbmNvbnN0IHZhbGlkYXRlQXBhcnRtZW50ID0gW1xyXG4gIGJvZHkoJ3RpdGxlJylcclxuICAgIC50cmltKClcclxuICAgIC5ub3RFbXB0eSgpXHJcbiAgICAud2l0aE1lc3NhZ2UoJ1RpdGxlIGlzIHJlcXVpcmVkJylcclxuICAgIC5pc0xlbmd0aCh7IG1pbjogMywgbWF4OiAxMDAgfSlcclxuICAgIC53aXRoTWVzc2FnZSgnVGl0bGUgbXVzdCBiZSBiZXR3ZWVuIDMgYW5kIDEwMCBjaGFyYWN0ZXJzJyksXHJcbiAgXHJcbiAgYm9keSgnZGVzY3JpcHRpb24nKVxyXG4gICAgLnRyaW0oKVxyXG4gICAgLm5vdEVtcHR5KClcclxuICAgIC53aXRoTWVzc2FnZSgnRGVzY3JpcHRpb24gaXMgcmVxdWlyZWQnKVxyXG4gICAgLmlzTGVuZ3RoKHsgbWluOiAxMCwgbWF4OiAyMDAwIH0pXHJcbiAgICAud2l0aE1lc3NhZ2UoJ0Rlc2NyaXB0aW9uIG11c3QgYmUgYmV0d2VlbiAxMCBhbmQgMjAwMCBjaGFyYWN0ZXJzJyksXHJcbiAgXHJcbiAgYm9keSgncHJpY2UnKVxyXG4gICAgLmlzRmxvYXQoeyBtaW46IDAgfSlcclxuICAgIC53aXRoTWVzc2FnZSgnUHJpY2UgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpLFxyXG4gIFxyXG4gIGJvZHkoJ2xvY2F0aW9uLmNvb3JkaW5hdGVzJylcclxuICAgIC5pc0FycmF5KHsgbWluOiAyLCBtYXg6IDIgfSlcclxuICAgIC53aXRoTWVzc2FnZSgnTG9jYXRpb24gY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBbbG9uZ2l0dWRlLCBsYXRpdHVkZV0nKSxcclxuICBcclxuICBib2R5KCdsb2NhdGlvbi5jb29yZGluYXRlcy4qJylcclxuICAgIC5pc0Zsb2F0KClcclxuICAgIC53aXRoTWVzc2FnZSgnQ29vcmRpbmF0ZXMgbXVzdCBiZSB2YWxpZCBudW1iZXJzJyksXHJcbiAgXHJcbiAgYm9keSgnYmVkcm9vbXMnKVxyXG4gICAgLmlzSW50KHsgbWluOiAwIH0pXHJcbiAgICAud2l0aE1lc3NhZ2UoJ0JlZHJvb21zIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlcicpLFxyXG4gIFxyXG4gIGJvZHkoJ2JhdGhyb29tcycpXHJcbiAgICAuaXNGbG9hdCh7IG1pbjogMCB9KVxyXG4gICAgLndpdGhNZXNzYWdlKCdCYXRocm9vbXMgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKSxcclxuICBcclxuICBib2R5KCdhcmVhJylcclxuICAgIC5pc0Zsb2F0KHsgbWluOiAwIH0pXHJcbiAgICAud2l0aE1lc3NhZ2UoJ0FyZWEgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpLFxyXG4gIFxyXG4gIGJvZHkoJ2FtZW5pdGllcycpXHJcbiAgICAub3B0aW9uYWwoKVxyXG4gICAgLmlzQXJyYXkoKVxyXG4gICAgLndpdGhNZXNzYWdlKCdBbWVuaXRpZXMgbXVzdCBiZSBhbiBhcnJheScpLFxyXG4gIFxyXG4gIGJvZHkoJ2ltYWdlcycpXHJcbiAgICAub3B0aW9uYWwoKVxyXG4gICAgLmlzQXJyYXkoKVxyXG4gICAgLndpdGhNZXNzYWdlKCdJbWFnZXMgbXVzdCBiZSBhbiBhcnJheScpLFxyXG4gIFxyXG4gIGJvZHkoJ3N0YXR1cycpXHJcbiAgICAub3B0aW9uYWwoKVxyXG4gICAgLmlzSW4oWydhdmFpbGFibGUnLCAncmVudGVkJywgJ3BlbmRpbmcnXSlcclxuICAgIC53aXRoTWVzc2FnZSgnSW52YWxpZCBzdGF0dXMgdmFsdWUnKSxcclxuICBcclxuICBib2R5KCdpc1B1YmxpYycpXHJcbiAgICAub3B0aW9uYWwoKVxyXG4gICAgLmlzQm9vbGVhbigpXHJcbiAgICAud2l0aE1lc3NhZ2UoJ2lzUHVibGljIG11c3QgYmUgYSBib29sZWFuJyksXHJcbiAgXHJcbiAgYm9keSgnZXh0ZXJuYWxVcmwnKVxyXG4gICAgLm9wdGlvbmFsKClcclxuICAgIC5pc1VSTCgpXHJcbiAgICAud2l0aE1lc3NhZ2UoJ0ludmFsaWQgZXh0ZXJuYWwgVVJMIGZvcm1hdCcpXHJcbl07XHJcblxyXG4vLyBWYWxpZGF0aW9uIG1pZGRsZXdhcmUgZm9yIHF1ZXJ5IHBhcmFtZXRlcnNcclxuY29uc3QgdmFsaWRhdGVBcGFydG1lbnRRdWVyeSA9IFtcclxuICBxdWVyeSgncGFnZScpXHJcbiAgICAub3B0aW9uYWwoKVxyXG4gICAgLmlzSW50KHsgbWluOiAxIH0pXHJcbiAgICAud2l0aE1lc3NhZ2UoJ1BhZ2UgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXInKSxcclxuICBcclxuICBxdWVyeSgnbGltaXQnKVxyXG4gICAgLm9wdGlvbmFsKClcclxuICAgIC5pc0ludCh7IG1pbjogMSwgbWF4OiAxMDAgfSlcclxuICAgIC53aXRoTWVzc2FnZSgnTGltaXQgbXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwMCcpLFxyXG4gIFxyXG4gIHF1ZXJ5KCdtaW5QcmljZScpXHJcbiAgICAub3B0aW9uYWwoKVxyXG4gICAgLmlzRmxvYXQoeyBtaW46IDAgfSlcclxuICAgIC53aXRoTWVzc2FnZSgnTWluaW11bSBwcmljZSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyksXHJcbiAgXHJcbiAgcXVlcnkoJ21heFByaWNlJylcclxuICAgIC5vcHRpb25hbCgpXHJcbiAgICAuaXNGbG9hdCh7IG1pbjogMCB9KVxyXG4gICAgLndpdGhNZXNzYWdlKCdNYXhpbXVtIHByaWNlIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKSxcclxuICBcclxuICBxdWVyeSgnYmVkcm9vbXMnKVxyXG4gICAgLm9wdGlvbmFsKClcclxuICAgIC5pc0ludCh7IG1pbjogMCB9KVxyXG4gICAgLndpdGhNZXNzYWdlKCdCZWRyb29tcyBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIGludGVnZXInKSxcclxuICBcclxuICBxdWVyeSgnc3RhdHVzJylcclxuICAgIC5vcHRpb25hbCgpXHJcbiAgICAuaXNJbihbJ2F2YWlsYWJsZScsICdyZW50ZWQnLCAncGVuZGluZyddKVxyXG4gICAgLndpdGhNZXNzYWdlKCdJbnZhbGlkIHN0YXR1cyB2YWx1ZScpLFxyXG4gIFxyXG4gIHF1ZXJ5KCdsYXQnKVxyXG4gICAgLm9wdGlvbmFsKClcclxuICAgIC5pc0Zsb2F0KClcclxuICAgIC53aXRoTWVzc2FnZSgnTGF0aXR1ZGUgbXVzdCBiZSBhIHZhbGlkIG51bWJlcicpLFxyXG4gIFxyXG4gIHF1ZXJ5KCdsbmcnKVxyXG4gICAgLm9wdGlvbmFsKClcclxuICAgIC5pc0Zsb2F0KClcclxuICAgIC53aXRoTWVzc2FnZSgnTG9uZ2l0dWRlIG11c3QgYmUgYSB2YWxpZCBudW1iZXInKSxcclxuICBcclxuICBxdWVyeSgncmFkaXVzJylcclxuICAgIC5vcHRpb25hbCgpXHJcbiAgICAuaXNGbG9hdCh7IG1pbjogMCB9KVxyXG4gICAgLndpdGhNZXNzYWdlKCdSYWRpdXMgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpXHJcbl07XHJcblxyXG4vLyBWYWxpZGF0aW9uIG1pZGRsZXdhcmUgZm9yIE1vbmdvREIgT2JqZWN0SWQgcGFyYW1ldGVyc1xyXG5jb25zdCB2YWxpZGF0ZU9iamVjdElkID0gW1xyXG4gIHBhcmFtKCdpZCcpXHJcbiAgICAuaXNNb25nb0lkKClcclxuICAgIC53aXRoTWVzc2FnZSgnSW52YWxpZCBJRCBmb3JtYXQnKVxyXG5dO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgdmFsaWRhdGVBcGFydG1lbnQsXHJcbiAgdmFsaWRhdGVBcGFydG1lbnRRdWVyeSxcclxuICB2YWxpZGF0ZU9iamVjdElkXHJcbn07ICJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtFQUFFQSxJQUFJO0VBQUVDLEtBQUs7RUFBRUM7QUFBTSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQzs7QUFFM0Q7QUFDQSxNQUFNQyxpQkFBaUIsR0FBRyxDQUN4QkosSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUNWSyxJQUFJLENBQUMsQ0FBQyxDQUNOQyxRQUFRLENBQUMsQ0FBQyxDQUNWQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FDaENDLFFBQVEsQ0FBQztFQUFFQyxHQUFHLEVBQUUsQ0FBQztFQUFFQyxHQUFHLEVBQUU7QUFBSSxDQUFDLENBQUMsQ0FDOUJILFdBQVcsQ0FBQyw0Q0FBNEMsQ0FBQyxFQUU1RFAsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUNoQkssSUFBSSxDQUFDLENBQUMsQ0FDTkMsUUFBUSxDQUFDLENBQUMsQ0FDVkMsV0FBVyxDQUFDLHlCQUF5QixDQUFDLENBQ3RDQyxRQUFRLENBQUM7RUFBRUMsR0FBRyxFQUFFLEVBQUU7RUFBRUMsR0FBRyxFQUFFO0FBQUssQ0FBQyxDQUFDLENBQ2hDSCxXQUFXLENBQUMsb0RBQW9ELENBQUMsRUFFcEVQLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FDVlcsT0FBTyxDQUFDO0VBQUVGLEdBQUcsRUFBRTtBQUFFLENBQUMsQ0FBQyxDQUNuQkYsV0FBVyxDQUFDLGlDQUFpQyxDQUFDLEVBRWpEUCxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FDekJZLE9BQU8sQ0FBQztFQUFFSCxHQUFHLEVBQUUsQ0FBQztF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